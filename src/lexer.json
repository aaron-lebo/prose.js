[ [ '=',
    { x: 0 },
    [ 'name', { x: 1 }, 'match' ],
    [ 'function',
      { x: 0 },
      [ 'name', { x: 0 }, 're' ],
      [ 'function',
        { x: 0 },
        [ 'name', { x: 1 }, 'str' ],
        [ [ 'name', { x: 0 }, '?' ],
          { x: 0 },
          [ '=',
            { x: 0 },
            [ 'name', { x: 0 }, '_' ],
            [ [ '.',
                { x: 0 },
                [ 'name', { x: 0 }, 'str' ],
                [ 'name', { x: 0 }, 'match' ] ],
              { x: 0 },
              [ 'name', { x: 0 }, 're' ] ] ],
          [ '.',
            { x: 0 },
            [ 'at',
              { x: 0 },
              [ 'name', { x: 0 }, '_' ],
              [ 'number', { x: 0 }, '0' ] ],
            [ 'name', { x: 0 }, 'length' ] ],
          [ 'number', { x: 0 }, '0' ] ] ] ] ],
  [ '=',
    { x: 0 },
    [ 'name', { x: 1 }, 'quotes' ],
    [ 'function',
      { x: 0 },
      [ 'name', { x: 0 }, 'quote' ],
      [ 'function',
        { x: 0 },
        [ 'name', { x: 1 }, 'str' ],
        [ 'do',
          [ '?',
            { x: 0 },
            [ '!=',
              { x: 0 },
              [ '=',
                { x: 0 },
                [ 'name', { x: 0 }, 'chr' ],
                [ 'at',
                  { x: 0 },
                  [ 'name', { x: 0 }, 'str' ],
                  [ 'number', { x: 0 }, '0' ] ] ],
              [ 'name', { x: 0 }, 'quote' ] ],
            [ [ 'name', { x: 1 }, 'return' ],
              { x: 0 },
              [ 'number', { x: 0 }, '0' ] ] ],
          [ '=',
            { x: 0 },
            [ 'name', { x: 1 }, 'len' ],
            [ 'number', { x: 0 }, '1' ] ],
          [ [ 'name', { x: 1 }, 'for' ],
            { x: 0 },
            [ '!=',
              { x: 0 },
              [ 'at',
                { x: 0 },
                [ 'name', { x: 0 }, 'str' ],
                [ 'name', { x: 0 }, 'len' ] ],
              [ 'name', { x: 0 }, 'chr' ] ],
            [ 'do',
              [ '+=',
                { x: 0 },
                [ '?',
                  { x: 0 },
                  [ '==',
                    { x: 0 },
                    [ 'at',
                      { x: 0 },
                      [ 'name', { x: 1 }, 'str' ],
                      [ 'name', { x: 0 }, 'len' ] ],
                    [ 'string', { x: 0 }, '\'\\\\\'' ] ],
                  [ 'name', { x: 1 }, 'len' ] ],
                [ 'number', { x: 0 }, '1' ] ],
              [ '+=',
                { x: 0 },
                [ 'name', { x: 1 }, 'len' ],
                [ 'number', { x: 0 }, '1' ] ] ] ],
          [ '+=',
            { x: 0 },
            [ 'name', { x: 1 }, 'len' ],
            [ 'number', { x: 0 }, '1' ] ],
          [ '+',
            { x: 0 },
            [ 'name', { x: 1 }, 'len' ],
            [ [ [ '.',
                  { x: 0 },
                  [ 'name', { x: 0 }, 'tokenizers' ],
                  [ 'name', { x: 0 }, 'get' ] ],
                { x: 0 },
                [ 'string', { x: 0 }, '\'name\'' ] ],
              { x: 0 },
              [ [ '.',
                  { x: 0 },
                  [ 'name', { x: 0 }, 'str' ],
                  [ 'name', { x: 0 }, 'slice' ] ],
                { x: 0 },
                [ 'name', { x: 0 }, 'len' ] ] ] ] ] ] ] ],
  [ '=',
    { x: 0 },
    [ 'name', { x: 1 }, 'tokenizers' ],
    [ 'OrderedMap',
      { x: 0 },
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\'#\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^#.*[^\\n]', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\'.\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*\\.\\s*', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\'(\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\(\\s*', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\')\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*\\)', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\'[\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\[\\s*', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\']\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*\\]', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\'{\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^{\\s*', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\'}\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*}', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\',\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*,\\s*', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\';\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*;\\s*', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\':\'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*:\\s+', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'operator' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex',
            { x: 0 },
            '^\\s+[~!@\\$%\\^&\\*\\-_=\\+|:<>\\/\\?]+\\s+',
            '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'newline' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s*\\n\\s*', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'string', { x: 1 }, '\' \'' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^\\s+', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'quote' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^:', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'number' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^[0-9]+(\\.[0-9]+)?', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'boolean' ],
        [ [ 'name', { x: 0 }, 'match' ],
          [ 'regex', { x: 0 }, '^nil', '' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'name' ],
        [ 'function',
          { x: 0 },
          [ 'name', { x: 0 }, 'str' ],
          [ 'do',
            [ '=',
              { x: 0 },
              [ 'name', { x: 1 }, '$match' ],
              [ [ [ 'name', { x: 0 }, 'match' ],
                  { x: 0 },
                  [ 'regex',
                    { x: 0 },
                    '^[a-z~!@\\$%\\^&\\*\\-_=\\+|:<>\\/\\?]+[a-z0-9~!@\\$%\\^&\\*\\-_=\\+|:<>\\/\\?]*',
                    'i' ] ],
                { x: 0 },
                [ 'name', { x: 0 }, 'str' ] ] ],
            [ [ 'name', { x: 0 }, '?' ],
              { x: 0 },
              [ '==',
                { x: 0 },
                [ 'at',
                  { x: 0 },
                  [ 'name', { x: 1 }, 'str' ],
                  [ '-',
                    { x: 0 },
                    [ 'name', { x: 0 }, '$match' ],
                    [ 'number', { x: 0 }, '1' ] ] ],
                [ 'string', { x: 0 }, '\':\'' ] ],
              [ '-',
                { x: 0 },
                [ 'name', { x: 0 }, '$match' ],
                [ 'number', { x: 0 }, '1' ] ],
              [ 'name', { x: 0 }, '$match' ] ] ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'regex' ],
        [ [ 'name', { x: 0 }, 'quotes' ],
          [ 'string', { x: 0 }, '\'`\'' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'string' ],
        [ [ 'name', { x: 0 }, 'quotes' ],
          [ 'string', { x: 0 }, '\'\\\'\'' ] ] ],
      [ ':',
        { x: 0 },
        [ 'name', { x: 1 }, 'doubled' ],
        [ [ 'name', { x: 0 }, 'quotes' ],
          [ 'string', { x: 0 }, '\'"\'' ] ] ] ] ],
  [ ':',
    { x: 0 },
    [ 'name', { x: 1 }, 'default' ],
    [ '=',
      { x: 0 },
      [ 'name', { x: 0 }, 'lex' ],
      [ 'function',
        { x: 0 },
        [ 'name', { x: 0 }, 'str' ],
        [ 'do',
          [ '=',
            { x: 0 },
            [ 'name', { x: 1 }, 'len' ],
            [ 'boolean', { x: 0 }, 'nil' ] ],
          [ '=',
            { x: 0 },
            [ 'name', { x: 0 }, 'line' ],
            [ 'number', { x: 0 }, '1' ] ],
          [ '=',
            { x: 0 },
            [ 'name', { x: 0 }, 'tokens' ],
            [ 'Array', { x: 0 } ] ],
          [ [ 'name', { x: 1 }, 'for' ],
            { x: 0 },
            [ 'at',
              { x: 0 },
              [ 'name', { x: 0 }, 'str' ],
              [ 'number', { x: 0 }, '0' ] ],
            [ 'do',
              [ '=',
                { x: 0 },
                [ 'name', { x: 1 }, 'res' ],
                [ [ '.',
                    { x: 0 },
                    [ [ '.',
                        { x: 0 },
                        [ 'name', { x: 0 }, 'tokenizers' ],
                        [ 'name', { x: 0 }, 'entrySeq' ] ],
                      { x: 0 } ],
                    [ 'name', { x: 0 }, 'reduce' ] ],
                  { x: 0 },
                  [ 'function',
                    { x: 0 },
                    [ 'name', { x: 0 }, 'm' ],
                    [ 'name', { x: 0 }, 't' ],
                    [ [ 'name', { x: 0 }, '?' ],
                      { x: 0 },
                      [ '==',
                        { x: 0 },
                        [ 'at',
                          { x: 0 },
                          [ 'name', { x: 1 }, 'm' ],
                          [ 'number', { x: 0 }, '1' ] ],
                        [ 'number', { x: 0 }, '0' ] ],
                      [ 'Array',
                        { x: 0 },
                        [ 'at',
                          { x: 0 },
                          [ 'name', { x: 0 }, 't' ],
                          [ 'number', { x: 0 }, '0' ] ],
                        [ [ 'at',
                            { x: 0 },
                            [ 'name', { x: 0 }, 't' ],
                            [ 'number', { x: 0 }, '1' ] ],
                          { x: 0 },
                          [ 'name', { x: 0 }, 'str' ] ] ],
                      [ 'name', { x: 0 }, 'm' ] ] ],
                  [ 'Array',
                    { x: 0 },
                    [ 'name', { x: 0 }, 'null' ],
                    [ 'number', { x: 0 }, '0' ] ] ] ],
              [ '=',
                { x: 0 },
                [ 'name', { x: 1 }, 'type' ],
                [ 'at',
                  { x: 0 },
                  [ 'name', { x: 0 }, 'res' ],
                  [ 'number', { x: 0 }, '0' ] ] ],
              [ ':=',
                { x: 0 },
                [ 'name', { x: 0 }, 'len' ],
                [ 'at',
                  { x: 0 },
                  [ 'name', { x: 0 }, 'res' ],
                  [ 'number', { x: 0 }, '1' ] ] ],
              [ '?',
                { x: 0 },
                [ '==',
                  { x: 0 },
                  [ 'name', { x: 1 }, 'len' ],
                  [ 'number', { x: 0 }, '0' ] ],
                [ [ 'name', { x: 1 }, 'throw' ],
                  { x: 0 },
                  [ [ '.',
                      { x: 0 },
                      [ 'name', { x: 0 }, 'str' ],
                      [ 'name', { x: 0 }, 'substring' ] ],
                    { x: 0 },
                    [ 'number', { x: 0 }, '0' ] ] ] ],
              [ '=',
                { x: 0 },
                [ 'name', { x: 1 }, 'val' ],
                [ [ '.',
                    { x: 0 },
                    [ 'name', { x: 0 }, 'str' ],
                    [ 'name', { x: 0 }, 'substring' ] ],
                  { x: 0 },
                  [ 'number', { x: 0 }, '0' ],
                  [ 'name', { x: 0 }, 'len' ] ] ],
              [ [ '.',
                  { x: 0 },
                  [ 'name', { x: 1 }, 'tokens' ],
                  [ 'name', { x: 0 }, 'push' ] ],
                { x: 0 },
                [ 'object',
                  { x: 0 },
                  [ ':',
                    { x: 0 },
                    [ 'name', { x: 1 }, 'type' ],
                    [ [ 'name', { x: 0 }, '?' ],
                      { x: 0 },
                      [ '==',
                        { x: 0 },
                        [ 'name', { x: 0 }, 'type' ],
                        [ 'string', { x: 0 }, '\'operator\'' ] ],
                      [ [ '.',
                          { x: 0 },
                          [ 'name', { x: 0 }, 'val' ],
                          [ 'name', { x: 0 }, 'replace' ] ],
                        { x: 0 },
                        [ 'regex', { x: 0 }, '\\s', 'g' ],
                        [ 'string', { x: 0 }, '\'\'' ] ],
                      [ 'name', { x: 0 }, 'type' ] ] ],
                  [ ':',
                    { x: 0 },
                    [ 'name', { x: 1 }, 'len' ],
                    [ 'name', { x: 0 }, 'len' ] ],
                  [ ':',
                    { x: 0 },
                    [ 'name', { x: 1 }, 'line' ],
                    [ 'name', { x: 0 }, 'line' ] ],
                  [ ':',
                    { x: 0 },
                    [ 'name', { x: 1 }, 'value' ],
                    [ 'name', { x: 0 }, 'val' ] ] ] ],
              [ ':=',
                { x: 0 },
                [ 'name', { x: 1 }, 'line' ],
                [ [ 'name', { x: 0 }, '?' ],
                  { x: 0 },
                  [ '=',
                    { x: 0 },
                    [ 'name', { x: 0 }, '_' ],
                    [ [ '.',
                        { x: 0 },
                        [ 'name', { x: 0 }, 'val' ],
                        [ 'name', { x: 0 }, 'match' ] ],
                      { x: 0 },
                      [ 'regex', { x: 0 }, '\\n', '' ] ] ],
                  [ '.',
                    { x: 0 },
                    [ 'name', { x: 0 }, '_' ],
                    [ 'name', { x: 0 }, 'length' ] ],
                  [ 'number', { x: 0 }, '0' ] ] ],
              [ ':=',
                { x: 0 },
                [ 'name', { x: 1 }, 'str' ],
                [ [ '.',
                    { x: 0 },
                    [ 'name', { x: 0 }, 'str' ],
                    [ 'name', { x: 0 }, 'substring' ] ],
                  { x: 0 },
                  [ 'name', { x: 0 }, 'len' ] ] ] ] ],
          [ 'name', { x: 1 }, 'tokens' ] ] ] ] ] ]
